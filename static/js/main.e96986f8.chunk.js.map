{"version":3,"sources":["Auth/Auth.js","App.js","index.js"],"names":["Auth","children","useState","name","accessToken","img","state","setIsAuth","responseGoogle","response","profileObj","isAuth","style","textAlign","src","alt","clientId","buttonText","onLogoutSuccess","onFailure","alert","onSuccess","cookiePolicy","responseType","isSignedIn","render","renderProps","onClick","className","appId","autoLoad","fields","callback","console","log","picture","data","url","App","value","input","initialValue","setValue","bind","onChange","e","currentTarget","clear","useInput","useEffect","type","ReactDOM","document","getElementById"],"mappings":"+KAgFeA,EA5EF,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SAAc,EACMC,mBAAS,CAChCC,KAAM,GACNC,YAAa,GACbC,IAAK,OAJY,mBACdC,EADc,KACPC,EADO,KAOfC,EAAiB,SAACC,GAChBA,GACAF,EAAU,eACHD,EADE,CAELH,KAAMM,EAASC,WAAWP,KAC1BC,YAAaK,EAASL,YACtBO,QAAQ,MAuBpB,OACI,yBAAKC,MAAO,CAACC,UAAW,WAClBP,EAAMK,OAqBF,6BACE,4BAAKL,EAAMH,KAAOG,EAAMH,KAAO,MAC/B,yBAAKW,IAAKR,EAAMD,IAAKU,IAAI,QACzB,8BAAOd,GACP,kBAAC,eAAD,CACIe,SAAU,2EACVC,WAAY,SACZC,gBAjDL,SAACT,GACZF,EAAU,eAAID,EAAL,CAAYK,QAAQ,EAAOP,YAAa,OAiDjCe,UA/CQ,SAACV,GACzBW,MAAM,yBAkBI,6BAAK,kBAAC,cAAD,CAAaJ,SAAS,2EAETK,UAAWb,EACXW,UAAWX,EACXc,aAAc,qBACdC,aAAa,aACbC,YAAY,EACZC,OAAQ,SAAAC,GAAW,OACf,4BAAQC,QAASD,EAAYC,QAASC,UAAU,gBAAhD,cAEpB,6BACI,kBAAC,IAAD,CACIC,MAAM,kBACNC,UAAU,EACVC,OAAO,qBACPC,SA7BC,SAACvB,GACtBwB,QAAQC,IAAIzB,GACZF,EAAU,eACHD,EADE,CAELH,KAAMM,EAASN,KACfQ,QAAQ,EACRN,IAAKI,EAAS0B,QAAQC,KAAKC,YAuC1B/B,EAAMF,aAAe,0CAAgBE,EAAMF,eCnB7CkC,MA9Bf,WAEI,IAvBeC,EAuBTC,EAlBO,SAACC,GAAkB,IAAD,EACLvC,mBAASuC,GADJ,mBACxBF,EADwB,KACjBG,EADiB,KAS/B,MAAO,CACHC,KAAM,CAACJ,QAAOK,SAPD,SAACC,GACdH,EAASG,EAAEC,cAAcP,SAOzBA,QACAQ,MANU,WACVL,EAAS,MAWCM,CAAS,IAGvB,OA1BeT,EAwBLC,EAAMD,MAvBhBU,qBAAU,cAEP,CAACV,IAwBA,oCAQI,yBAAKX,UAAU,kBACX,yCAAOsB,KAAK,QAAWV,EAAMG,OAC7B,4BAAQf,UAAU,kBAAkBD,QAAS,kBAAMa,EAAMO,UAAzD,oDACA,6BACA,4BAAKP,EAAMD,QAEf,6BACA,mLACA,kBAAC,EAAD,KACI,sG,MC3ChBY,IAAS1B,OACL,kBAAC,EAAD,MACF2B,SAASC,eAAe,U","file":"static/js/main.e96986f8.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport {GoogleLogin, GoogleLogout} from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\nconst Auth = ({children}) => {\r\n        const [state, setIsAuth] = useState({\r\n            name: '',\r\n            accessToken: '',\r\n            img: null\r\n        })\r\n\r\n        const responseGoogle = (response) => {\r\n            if (response) {\r\n                setIsAuth({\r\n                    ...state,\r\n                    name: response.profileObj.name,\r\n                    accessToken: response.accessToken,\r\n                    isAuth: true\r\n                })\r\n            }\r\n        }\r\n        const logout = (response) => {\r\n            setIsAuth({...state, isAuth: false, accessToken: ''})\r\n        }\r\n        const handleLogoutFailure = (response) => {\r\n            alert('Failed to log out')\r\n        }\r\n\r\n        //FACEBOOK\r\n        const responseFacebook = (response) => {\r\n            console.log(response)\r\n            setIsAuth({\r\n                ...state,\r\n                name: response.name,\r\n                isAuth: true,\r\n                img: response.picture.data.url\r\n            })\r\n        }\r\n\r\n\r\n        return (\r\n            <div style={{textAlign: \"center\"}}>\r\n                {!state.isAuth\r\n                    ? <div><GoogleLogin clientId=\"345999559557-l0djs7ot59j8914n1bp4mvkn08odsp4n.apps.googleusercontent.com\"\r\n                        /*       buttonText=\"Login with Google\"*/\r\n                                        onSuccess={responseGoogle}\r\n                                        onFailure={responseGoogle}\r\n                                        cookiePolicy={'single_host_origin'}\r\n                                        responseType='code,token'\r\n                                        isSignedIn={true}\r\n                                        render={renderProps =>\r\n                                            <button onClick={renderProps.onClick} className=\"btn btn-dark\">Sign in</button>\r\n                                        }/>\r\n                        <div>\r\n                            <FacebookLogin\r\n                                appId=\"399813427801800\"\r\n                                autoLoad={false}\r\n                                fields=\"name,email,picture\"\r\n                                callback={responseFacebook}/>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    : <div>\r\n                        <h1>{state.name ? state.name : null}</h1>\r\n                        <img src={state.img} alt=\"ava\"/>\r\n                        <span>{children}</span>\r\n                        <GoogleLogout\r\n                            clientId={\"345999559557-l0djs7ot59j8914n1bp4mvkn08odsp4n.apps.googleusercontent.com\"}\r\n                            buttonText={'Logout'}\r\n                            onLogoutSuccess={logout}\r\n                            onFailure={handleLogoutFailure}\r\n                        />\r\n                    </div>}\r\n                {state.accessToken && <span> token : {state.accessToken}</span>}\r\n            </div>\r\n        );\r\n    }\r\n;\r\n\r\nexport default Auth;","import React, {useEffect, useState} from 'react';\r\nimport Auth from \"./Auth/Auth\";\r\n\r\n\r\nconst useLogger = (value) => {\r\n    useEffect(() => {\r\n        // console.log('Value changed', value)\r\n    }, [value])\r\n}\r\nconst useInput = (initialValue) => {\r\n    const [value, setValue] = useState(initialValue)\r\n\r\n    const onChange = (e) => {\r\n        setValue(e.currentTarget.value)\r\n    }\r\n    const clear = () => {\r\n        setValue('')\r\n    }\r\n    return {\r\n        bind: {value, onChange},\r\n        value,\r\n        clear\r\n    }\r\n}\r\n\r\nfunction App() {\r\n\r\n    const input = useInput('')\r\n    useLogger(input.value)\r\n\r\n    return (\r\n        <>\r\n            {/*<AlertProvider>\r\n                <div className=\"container pt-3\">\r\n                    <Alert/>\r\n                    <Main toggle={() => {\r\n                    }}/>\r\n                </div>\r\n            </AlertProvider>*/}\r\n            <div className=\"container pt-3\">\r\n                <input type=\"text\" {...input.bind}/>\r\n                <button className=\"btn btn-warning\" onClick={() => input.clear()}>Очистить</button>\r\n                <hr/>\r\n                <h1>{input.value}</h1>\r\n            </div>\r\n            <hr/>\r\n            <h1>Авторизация с помощью гугла</h1>\r\n            <Auth>\r\n                <div>авторизован</div>\r\n            </Auth>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}